<div class="row-fluid">
  <div class="span6">
    <h2>Your Neighborhood</h2>
    <div class="repos">
    <% Object.keys(neighbors).forEach(function(neighborName) { var neighbor = neighbors[neighborName] %>
      <% neighbor.repositories.forEach(function(repo) { %>
        <div class="repo">
          <h3><a href="http://<%= neighbor.host %>:<%= neighbor.port %>"><%= neighbor.description %></a> / <%= repo.name %></h3>
        </div>
      <% }); %>
    <% }); %>
    </div>
  </div>
  <div class="span6">
    <h2>Your Repositories</h2>
    <div class="repos">
      <% config.repos.forEach(function(repo) { %>
        <div class="repo">
          <h3><input title="check to share repo" type="checkbox" name="<%= repo.name %>" onchange="onChecked(this)"  <%= repo.shared ? 'checked' : '' %>/>
          <a href="repository/<%= repo.name %>"><%= repo.name %></a></h3>
        </div>
      <% }); %>
    </div>
  </div>
</div>


<script>
  function onChecked(checkbox) {
    jQuery.post('/apiv1/repo/shared', {
      name: checkbox.name,
      shared: checkbox.checked
    });
  }
</script>
